!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.vPlayer=t()}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(e,t){t=$.extend({},{swfUrl:m.swf,loading:m.loading,bgcolor:"#000",preload:!1,loop:!1,autoplay:!1,muted:!1,volume:1,simulateFullScreen:!0},t),this.options=t,this.vid=this.getVID(),_[this.vid]=this,this.readyCalls=[v];var o=$(e);o.empty(),w.clone().appendTo(o),this.$wrap=o.find(".video-wrapper"),this.$wrap.prepend('<div id="'+this.vid+'"></div>'),this.clickUrl=$.trim(t.clickUrl||"");var n=t.clickUrlTrack||"",i=t.playTrack||"";this.clickUrlTrack=$.isFunction(n)?n:$.trim(n).replace(k,""),this.playTrack=$.isFunction(i)?i:$.trim(i).replace(k,""),t.poster&&this.$wrap.find(".vplayer-poster img").attr("src",t.poster),this.$wrap.find(".vplayer-loading").attr("src",t.loading),this.createPlayer()}function o(){t.apply(this,arguments)}var n={swf:"//s5.ssl.qhres.com/static/fca83421739b4383.swf",sprite:"//p5.ssl.qhimg.com/t0154249c11cb1852d0.png",loading:"//p5.ssl.qhimg.com/t017699817e7d9bb0fd.gif"},i=function(e){var t=document.createElement("style");t.rel="stylesheet",t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)},r=".body__hidden{overflow:hidden !important}.video-wrapper{position:relative;width:100%;height:100%;background:#000;overflow:hidden !important;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}.video-wrapper__fullscreen{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;z-index:99999999999}.video-wrapper>video{display:block;width:100%;height:100%;outline:0 !important}.video-control{position:absolute;bottom:-40px;left:0;right:0;width:100%;height:30px;z-index:888;padding-top:10px;background:url(__sprite) 0 -190px;_padding-top:7px;_background-position:0 -195px}.video-control>.video-progress{position:absolute;left:0;right:0;z-index:999;top:4px;width:100%;height:12px;overflow:hidden;zoom:1}.video-progress .v-p-total{position:absolute;left:0;right:0;top:5px;height:2px;width:100%;background-color:#555}.video-progress .v-p-total .v-p-cur{float:left;height:2px;width:0;background-color:#2b2b2b}.video-progress .v-p-total .v-p-ctrl{position:absolute;left:0;top:-5px;width:12px;height:12px;background:url(__sprite) 0 -20px no-repeat}.video-time,.video-volume,.video-expand{float:right}.video-control-play{float:left;overflow:hidden;padding:8px 10px 7px 20px}.video-time{display:none;float:left;font-size:12px;color:#fff;font-family:Microsoft Yahei;padding:0;line-height:30px}.video-control-play-btn:hover,.video-volume-btn:hover,.video-expand-btn:hover{opacity:.8;filter:alpha(opacity=80)}.video-control-play-btn{width:14px;height:15px;background:url(__sprite) no-repeat}.video-control-play-btn__paused{background-position:-20px -20px}.video-control-play-btn__playing{background-position:-40px -20px}.video-expand{padding:7px 20px 7px 16px}.video-expand-btn{width:18px;height:16px}.video-expand-btn__normal{background:url(__sprite) -60px -20px no-repeat}.video-volume{padding:7px 2px 7px 0}.video-volume-btn{display:block;width:19px;height:16px;background:url(__sprite) 0 0 no-repeat}.video-volume-btn__muted{background-position:0 0}.video-volume-btn__1{background-position:-20px 0}.video-volume-btn__2{background-position:-40px 0}.video-volume-btn__3{background-position:-60px 0}.video-volume-ctrl{float:right;width:30%;max-width:60px;min-width:40px;height:30px;position:relative}.volume-total{position:absolute;left:0;right:0;top:14px;height:2px;background-color:#fff}.volume-cur{float:left;height:2px;width:0;background-color:#fff}.volume-ctrl{position:absolute;left:0;top:-5px;width:12px;height:12px;background:url(__sprite) 0 -20px no-repeat}.vplayer-poster,.vplayer-poster img{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:100%;z-index:999}.vplayer-loading,.vplayer-play-btn{width:70px;height:70px;position:absolute;left:50%;top:50%;margin-top:-35px;margin-left:-35px;cursor:pointer;z-index:1000}.vplayer-play-btn{background:url(__sprite) 0 -40px no-repeat}.vplayer-play-btn:hover{background-position:-80px -40px}.vplayer-play-pause{background-position:0 -120px !important}.vplayer-play-pause:hover{opacity:.8;filter:alpha(opacity=80)}\n",a={__def:r},l=' <div class="video-wrapper"> <div class="video-control"> <div class="video-progress"> <div class="v-p-total"> <div class="ctrl v-p-ctrl"></div> <div class="v-p-cur"></div> </div> </div> <div style="overflow: hidden"> <div class="video-control-play"> <div class="video-control-play-btn video-control-play-btn__paused"></div> </div> <div class="video-time">00:00/00:00</div> <div class="video-expand"> <div class="video-expand-btn video-expand-btn__normal"></div> </div> <div class="video-volume-ctrl"> <div class="volume-total"> <div class="ctrl volume-ctrl"></div> <div class="volume-cur"></div> </div> </div> <div class="video-volume"> <div class="video-volume-btn video-volume-btn__muted"></div> </div> </div> </div> <div class="vplayer-poster"> <img alt=""> </div> <div class="vplayer-play-btn"></div> <img alt="" class="vplayer-loading" style="display: none"> </div>',s={__def:l},d=function(){function e(){if(!H&&document.getElementsByTagName("body")[0]){try{var e,t=g("span");t.style.display="none",e=j.getElementsByTagName("body")[0].appendChild(t),e.parentNode.removeChild(e),e=null,t=null}catch(e){return}H=!0;for(var o=V.length,n=0;n<o;n++)V[n]()}}function t(e){H?e():V[V.length]=e}function o(e){if(typeof O.addEventListener!==A)O.addEventListener("load",e,!1);else if(typeof j.addEventListener!==A)j.addEventListener("load",e,!1);else if(typeof O.attachEvent!==A)b(O,"onload",e);else if("function"==typeof O.onload){var t=O.onload;O.onload=function(){t(),e()}}else O.onload=e}function n(){var e=j.getElementsByTagName("body")[0],t=g(I);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",L);var o=e.appendChild(t);if(o){var n=0;!function r(){if(typeof o.GetVariable!==A)try{var a=o.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),Y.pv=[w(a[0]),w(a[1]),w(a[2])])}catch(e){Y.pv=[8,0,0]}else if(n<10)return n++,void setTimeout(r,10);e.removeChild(t),o=null,i()}()}else i()}function i(){var e=D.length;if(e>0)for(var t=0;t<e;t++){var o=D[t].id,n=D[t].callbackFn,i={success:!1,id:o};if(Y.pv[0]>0){var d=y(o);if(d)if(!x(D[t].swfVersion)||Y.wk&&Y.wk<312)if(D[t].expressInstall&&a()){var p={};p.data=D[t].expressInstall,p.width=d.getAttribute("width")||"0",p.height=d.getAttribute("height")||"0",d.getAttribute("class")&&(p.styleclass=d.getAttribute("class")),d.getAttribute("align")&&(p.align=d.getAttribute("align"));for(var c={},u=d.getElementsByTagName("param"),v=u.length,f=0;f<v;f++)"movie"!==u[f].getAttribute("name").toLowerCase()&&(c[u[f].getAttribute("name")]=u[f].getAttribute("value"));l(p,c,o,n)}else s(d),n&&n(i);else _(o,!0),n&&(i.success=!0,i.ref=r(o),i.id=o,n(i))}else if(_(o,!0),n){var h=r(o);h&&typeof h.SetVariable!==A&&(i.success=!0,i.ref=h,i.id=h.id),n(i)}}}function r(e){var t=null,o=y(e);return o&&"OBJECT"===o.nodeName.toUpperCase()&&(t=typeof o.SetVariable!==A?o:o.getElementsByTagName(I)[0]||o),t}function a(){return!X&&x("6.0.65")&&(Y.win||Y.mac)&&!(Y.wk&&Y.wk<312)}function l(e,t,o,n){var i=y(o);if(o=m(o),X=!0,S=n||null,$={success:!1,id:o},i){"OBJECT"===i.nodeName.toUpperCase()?(T=p(i),C=null):(T=i,C=o),e.id=U,(typeof e.width===A||!/%$/.test(e.width)&&w(e.width)<310)&&(e.width="310"),(typeof e.height===A||!/%$/.test(e.height)&&w(e.height)<137)&&(e.height="137");var r=Y.ie?"ActiveX":"PlugIn",a="MMredirectURL="+encodeURIComponent(O.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+r+"&MMdoctitle="+encodeURIComponent(j.title.slice(0,47)+" - Flash Player Installation");if(typeof t.flashvars!==A?t.flashvars+="&"+a:t.flashvars=a,Y.ie&&4!=i.readyState){var l=g("div");o+="SWFObjectNew",l.setAttribute("id",o),i.parentNode.insertBefore(l,i),i.style.display="none",f(i)}u(e,t,o)}}function s(e){if(Y.ie&&4!=e.readyState){e.style.display="none";var t=g("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(p(e),t),f(e)}else e.parentNode.replaceChild(p(e),e)}function p(e){var t=g("div");if(Y.win&&Y.ie)t.innerHTML=e.innerHTML;else{var o=e.getElementsByTagName(I)[0];if(o){var n=o.childNodes;if(n)for(var i=n.length,r=0;r<i;r++)1==n[r].nodeType&&"PARAM"===n[r].nodeName||8==n[r].nodeType||t.appendChild(n[r].cloneNode(!0))}}return t}function c(e,t){var o=g("div");return o.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",o.firstChild}function u(e,t,o){var n,i=y(o);if(o=m(o),Y.wk&&Y.wk<312)return n;if(i){var r,a,l,s=g(Y.ie?"div":I);typeof e.id===A&&(e.id=o);for(l in t)t.hasOwnProperty(l)&&"movie"!==l.toLowerCase()&&v(s,l,t[l]);Y.ie&&(s=c(e.data,s.innerHTML));for(r in e)e.hasOwnProperty(r)&&(a=r.toLowerCase(),"styleclass"===a?s.setAttribute("class",e[r]):"classid"!==a&&"data"!==a&&s.setAttribute(r,e[r]));Y.ie?q[q.length]=e.id:(s.setAttribute("type",L),s.setAttribute("data",e.data)),i.parentNode.replaceChild(s,i),n=s}return n}function v(e,t,o){var n=g("param");n.setAttribute("name",t),n.setAttribute("value",o),e.appendChild(n)}function f(e){var t=y(e);t&&"OBJECT"===t.nodeName.toUpperCase()&&(Y.ie?(t.style.display="none",function e(){if(4==t.readyState){for(var o in t)"function"==typeof t[o]&&(t[o]=null);t.parentNode.removeChild(t)}else setTimeout(e,10)}()):t.parentNode.removeChild(t))}function h(e){return e&&e.nodeType&&1===e.nodeType}function m(e){return h(e)?e.id:e}function y(e){if(h(e))return e;var t=null;try{t=j.getElementById(e)}catch(e){}return t}function g(e){return j.createElement(e)}function w(e){return parseInt(e,10)}function b(e,t,o){e.attachEvent(t,o),W[W.length]=[e,t,o]}function x(e){e+="";var t=Y.pv,o=e.split(".");return o[0]=w(o[0]),o[1]=w(o[1])||0,o[2]=w(o[2])||0,t[0]>o[0]||t[0]==o[0]&&t[1]>o[1]||t[0]==o[0]&&t[1]==o[1]&&t[2]>=o[2]}function k(e,t,o,n){var i=j.getElementsByTagName("head")[0];if(i){var r="string"==typeof o?o:"screen";if(n&&(F=null,N=null),!F||N!=r){var a=g("style");a.setAttribute("type","text/css"),a.setAttribute("media",r),F=i.appendChild(a),Y.ie&&typeof j.styleSheets!==A&&j.styleSheets.length>0&&(F=j.styleSheets[j.styleSheets.length-1]),N=r}F&&(typeof F.addRule!==A?F.addRule(e,t):typeof j.createTextNode!==A&&F.appendChild(j.createTextNode(e+" {"+t+"}")))}}function _(e,t){if(G){var o=t?"visible":"hidden",n=y(e);H&&n?n.style.visibility=o:"string"==typeof e&&k("#"+e,"visibility:"+o)}}function E(e){var t=/[\\\"<>\.;]/,o=null!==t.exec(e);return o&&typeof encodeURIComponent!==A?encodeURIComponent(e):e}var T,C,S,$,F,N,A="undefined",I="object",P="Shockwave Flash",B="ShockwaveFlash.ShockwaveFlash",L="application/x-shockwave-flash",U="SWFObjectExprInst",M="onreadystatechange",O=window,j=document,z=navigator,R=!1,V=[],D=[],q=[],W=[],H=!1,X=!1,G=!0,J=!1,Y=function(){var e=typeof j.getElementById!==A&&typeof j.getElementsByTagName!==A&&typeof j.createElement!==A,t=z.userAgent.toLowerCase(),o=z.platform.toLowerCase(),n=o?/win/.test(o):/win/.test(t),i=o?/mac/.test(o):/mac/.test(t),r=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),a="Microsoft Internet Explorer"===z.appName,l=[0,0,0],s=null;if(typeof z.plugins!==A&&typeof z.plugins[P]===I)s=z.plugins[P].description,s&&typeof z.mimeTypes!==A&&z.mimeTypes[L]&&z.mimeTypes[L].enabledPlugin&&(R=!0,a=!1,s=s.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),l[0]=w(s.replace(/^(.*)\..*$/,"$1")),l[1]=w(s.replace(/^.*\.(.*)\s.*$/,"$1")),l[2]=/[a-zA-Z]/.test(s)?w(s.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof O.ActiveXObject!==A)try{var d=new ActiveXObject(B);d&&(s=d.GetVariable("$version"),s&&(a=!0,s=s.split(" ")[1].split(","),l=[w(s[0]),w(s[1]),w(s[2])]))}catch(e){}return{w3:e,pv:l,wk:r,ie:a,win:n,mac:i}}();(function(){Y.w3&&((typeof j.readyState!==A&&("complete"===j.readyState||"interactive"===j.readyState)||typeof j.readyState===A&&(j.getElementsByTagName("body")[0]||j.body))&&e(),H||(typeof j.addEventListener!==A&&j.addEventListener("DOMContentLoaded",e,!1),Y.ie&&(j.attachEvent(M,function t(){"complete"===j.readyState&&(j.detachEvent(M,t),e())}),O==top&&!function t(){if(!H){try{j.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}e()}}()),Y.wk&&!function t(){if(!H)return/loaded|complete/.test(j.readyState)?void e():void setTimeout(t,0)}()))})();V[0]=function(){R?n():i()};(function(){Y.ie&&window.attachEvent("onunload",function(){for(var e=W.length,t=0;t<e;t++)W[t][0].detachEvent(W[t][1],W[t][2]);for(var o=q.length,n=0;n<o;n++)f(q[n]);for(var i in Y)Y[i]=null;Y=null;for(var r in d)d[r]=null;d=null})})();return{registerObject:function(e,t,o,n){if(Y.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=o,i.callbackFn=n,D[D.length]=i,_(e,!1)}else n&&n({success:!1,id:e})},getObjectById:function(e){if(Y.w3)return r(e)},embedSWF:function(e,o,n,i,r,s,d,p,c,v){var f=m(o),h={success:!1,id:f};Y.w3&&!(Y.wk&&Y.wk<312)&&e&&o&&n&&i&&r?(_(f,!1),t(function(){n+="",i+="";var t={};if(c&&typeof c===I)for(var m in c)t[m]=c[m];t.data=e,t.width=n,t.height=i;var y={};if(p&&typeof p===I)for(var g in p)y[g]=p[g];if(d&&typeof d===I)for(var w in d)if(d.hasOwnProperty(w)){var b=J?encodeURIComponent(w):w,k=J?encodeURIComponent(d[w]):d[w];typeof y.flashvars!==A?y.flashvars+="&"+b+"="+k:y.flashvars=b+"="+k}if(x(r)){var E=u(t,y,o);t.id==f&&_(f,!0),h.success=!0,h.ref=E,h.id=E.id}else{if(s&&a())return t.data=s,void l(t,y,o,v);_(f,!0)}v&&v(h)})):v&&v(h)},switchOffAutoHideShow:function(){G=!1},enableUriEncoding:function(e){J=typeof e===A||e},ua:Y,getFlashPlayerVersion:function(){return{major:Y.pv[0],minor:Y.pv[1],release:Y.pv[2]}},hasFlashPlayerVersion:x,createSWF:function(e,t,o){return Y.w3?u(e,t,o):void 0},showExpressInstall:function(e,t,o,n){Y.w3&&a()&&l(e,t,o,n)},removeSWF:function(e){Y.w3&&f(e)},createCSS:function(e,t,o,n){Y.w3&&k(e,t,o,n)},addDomLoadEvent:t,addLoadEvent:o,getQueryParamValue:function(e){var t=j.location.search||j.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),!e)return E(t);for(var o=t.split("&"),n=0;n<o.length;n++)if(o[n].substring(0,o[n].indexOf("="))==e)return E(o[n].substring(o[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if(X){var e=y(U);e&&T&&(e.parentNode.replaceChild(T,e),C&&(_(C,!0),Y.ie&&(T.style.display="block")),S&&S($)),X=!1}},version:"2.3"}}(),p=d,c=e(function(e){!function(){var t=e.exports,o="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var e,t,o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=o.length,r={};n<i;n++)if(e=o[n],e&&e[1]in document){for(n=0,t=e.length;n<t;n++)r[o[0][n]]=e[n];return r}return!1}(),i={request:function(e){var t=n.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](o&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[n.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:n};return n?(Object.defineProperties&&Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(document[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[n.fullscreenEnabled])}}}),void(t?e.exports=i:window.screenfull=i)):void(t?e.exports=!1:window.screenfull=!1)}()}),u=c,v=function(e,t){function o(t){var o=e.prop("volume"),n=o+t;n=n<0?0:n>1?1:n,e.prop("muted")&&n>0&&e.prop("muted",!1),e.prop("volume",n)}function n(t){if("swf"!==e.mode){var o=e.prop("duration");if(o&&!(e.prop("ended")&&t>0)){var n=e.prop("currentTime")/o,i=n+t;i=i<0?0:i>1?1:i,e.seekTo(o*i),1===i?e.options.loop?e.replay():e.pause():e.play()}}}function i(e){switch(+e){case 37:return n(-.1);case 39:return n(.1);case 38:return o(.1);case 40:return o(-.1)}}function r(){return e.prop("ended")?e.replay():e.prop("paused")?e.play():void e.pause()}function a(){return d.hasClass(Q)}function l(e,t,o,n){var i,r,a,l=+new Date,s=0,d=0,p=null,c=function(){d=l,e.apply(r,a)};return function(){l=+new Date,r=this,a=arguments,i=l-(n?s:d)-t,clearTimeout(p),n?o?p=setTimeout(c,t):i>=0&&c():i>=0?c():o&&(p=setTimeout(c,-i)),s=l}}window["swf_"+t.id]=e;var s=$(document),d=e.$wrap,p=function(e){return d.find(e)};$.fn.ctrlSlider=function(e){var t=e.duration,o=e.current,n=e.controller,i=this;return this.on("mousedown",function(r){r.preventDefault(),e.onstart&&e.onstart();var a=i.offset().left,d=i.width(),p=function(e){var i=e.clientX-a;i=i<0?0:i>d?d:i;var r=i/t.width();return o.css("width",i),n.css("left",(d-n.width())*r),r},c="mousemove."+ +new Date,u=function(t){e.onchange&&e.onchange(p(t))};s.on(c,l(u,100,!0)),s.one("mouseup",function(t){s.off(c),e.onend&&e.onend(p(t))}),u(r)}),this};var c=p(".video-control"),v=d.find(".video-time"),f=function(){return e.prop("ended")||e.prop("paused")&&0===e.prop("currentTime")},h=function(){f()||c.animate({bottom:0,opacity:1},300)},m=function(){!f()&&e.prop("paused")||a()||c.animate({bottom:-40,opacity:0},200)};d.on("mouseenter",h).on("mouseleave",m);var y=!0,g=function(){y=c.width()<=250,y?v.hide():v.show()};g();var w=function(e){return""+(e<0?e:e<10?"0"+e:e)},b=function(e){return e=Math.round(+e),isNaN(e)&&(e=0),w(Math.floor(e/60))+":"+w(Math.floor(e%60))},x=p(".video-progress"),k=p(".v-p-total"),_=p(".v-p-cur"),E=p(".v-p-ctrl"),T=k.width(),C=function(){T=k.width()},S=!1,F=0,N=function(){if(!S){F=F||E.width();var t=e.prop("currentTime");isNaN(t)&&(t=0);var o=e.prop("duration");isNaN(o)||o<=0?v.text("--:--"):v.text(b(t)+"/"+b(o));var n=0;0!==o&&(n=t/o),n=Math.round(100*n)/100,_.css("width",T*n),E.css("left",(T-F)*n)}};x.ctrlSlider({duration:k,current:_,controller:E,onstart:function(){S=!0,e.pause()},onchange:function(t){var o=e.prop("duration");t=t<.95?t:.95,e.seekTo(t*o),v.text(b(o*t)+"/"+b(o))},onend:function(t){S=!1,t=t<.95?t:.95,e.seekTo(t*e.prop("duration")),e.play()}});var A=p(".video-control-play"),I=p(".video-control-play-btn"),P="video-control-play-btn__playing",B=p(".vplayer-poster, .vplayer-play-btn"),L=p(".vplayer-play-btn"),U=p(".vplayer-poster"),M=p(".vplayer-loading"),O="vplayer-play-pause",j=null;A.on("click",function(){r()}),L.on("click",function(){r(),h()}),e.on("loadstart",function(){"video"===e.mode&&e.options.preload&&!e.options.autoplay||(B.hide(),M.show())}),e.on("durationchange",function(){e.prop("duration")<=0?(v.hide(),x.hide()):(y||v.show(),x.show())}),e.on("canplaythrough",function(){clearInterval(j),N(),I.addClass(P),j=setInterval(function(){N()},30),B.hide(),setTimeout(function(){M.hide()},0)}),e.on("playing",function(){N(),I.addClass(P),clearInterval(j),j=setInterval(function(){N()},30),B.hide()}),e.on("pause",function(){clearInterval(j),N(),h(),I.removeClass(P),L.addClass(O).show()}),e.on("ended",function(){clearInterval(j),N(),m(),e.options.loop||(I.removeClass(P),B.show(),L.removeClass(O))});var z=e.clickUrl,R=e.clickUrlTrack;z&&U.css("cursor","pointer");var V=function(){z&&!a()&&(e.track(R),window.open(z))};U.on("click",V),e.on("click",function(){e.pause(),V()});var D=p(".volume-total"),q=p(".volume-cur"),W=p(".volume-ctrl"),H=p(".video-volume-btn");p(".video-volume-ctrl").ctrlSlider({duration:D,current:q,controller:W,onstart:function(){},onchange:function(t){e.prop("muted",!1),e.prop("volume",t)},onend:function(t){e.prop("muted",!1),e.prop("volume",t)}});var X=function(t){var o=H[0],n=D.width();W.css("left",t*(n-W.width())),q.css("width",t*n);var i=e.prop("muted"),r="video-volume-btn__"+(0===t||i?"muted":t<1/3?1:t<2/3?2:3);o.className=o.className.replace(/video-volume-btn__(\d|muted)/g,"")+r},G=function(){X(e.prop("muted")?0:e.prop("volume"))};G(),e.on("volumechange",function(){var t=e.prop("volume");t<.01&&t>0&&e.prop("volume",0),e.prop("muted")&&(t=0),X(t)}),H.on("click",function(){e.prop("muted",!e.prop("muted"))});var J=p(".video-expand"),Y=p(".video-expand-btn"),K="video-wrapper__fullscreen",Z="video-expand-btn__expanded",Q="isFullScreen",ee=$("html, body"),te="body__hidden",oe=function(){ee.toggleClass(te),u?u.toggle(d[0]):d.toggleClass(K),Y.toggleClass(Z),d.toggleClass(Q),g(),C(),G(),N()};u||e.options.simulateFullScreen?J.on("click",oe):Y.hide(),u&&$(window).on(u.raw.fullscreenchange,function(){u.isFullscreen?ee.addClass(te):(ee.removeClass(te),Y.removeClass(Z),d.removeClass(K),d.removeClass(Q)),g(),C(),G(),N()}),s.on("keydown.vjs",function(e){if(a()){var t=+e.keyCode;116===t?location.reload():27===t?oe():32===t?r():i(t)}}),"swf"===e.mode&&e.on("esc",function(){a()&&oe()}),d.on("keydown.vjs",function(e){if(!a()){var t=e.keyCode;32===t?r():116===t?location.reload():i(t)}}).on("selectstart",function(e){e.preventDefault()}),$(window).on("resize",l(function(){g(),C(),G(),(e.prop("ended")||e.prop("paused"))&&N()},100))},f=a&&a.__def||a,h=s&&s.__def||s,m=n,y=i,g=f;y(g.replace(/__sprite/g,m.sprite));var w=$(h),b=p,x=$({}),k=/^on(blur|focus|focusin|focusout|load|resize|scroll|unload|click|dblclick|mousedown|mouseup|mousemove|mouseover|mouseout|mouseenter|mouseleave|change|select|submit|keydown|keypress|keyup|error|contextmenu)\=/i,_={};t.prototype={constructor:t,on:function(e,t){for(var o=e.split(/\s+/),n=0,i=o.length;n<i;n++)x.on.call(x,o[n]+"_"+this.vid,t);return this},off:function(e,t){if(e)for(var o=e.split(/\s+/),n=0,i=o.length;n<i;n++)x.off.call(x,o[n]+"_"+this.vid,t);else x.off();return this},getVID:function(){return"vjs_"+ +new Date},createPlayer:function(){this.mode="swf",this.$wrap.css("background-color",this.options.bgcolor);var e={src:this.options.src,autoplay:this.options.autoplay,preload:this.options.preload,loop:this.options.loop,volume:this.options.volume,muted:this.options.muted,allowFullScreen:!0,wmode:"transparent"},t={allowScriptAccess:"always",bgcolor:this.options.bgcolor,allowFullScreen:!0,wmode:"transparent"},o={id:this.vid,name:this.vid};b.embedSWF(this.options.swfUrl,this.vid,"100%","100%","10.3","",e,t,o),this.initEvents()},track:function(e){try{if($.isFunction(e))e();else{var t=new Function(e);t()}}catch(e){window.console&&window.console.log(e)}},applyPlayTrack:function(){var e=this.playTrack,t=this;e&&this.on("track",function(){t.track(e)})},initEvents:function(){var e=this;this.on("ready",function(){e.readyState="complete",e.vidElem=document.getElementById(e.vid);for(var t=e.readyCalls,o=0,n=t.length;o<n;o++)t[o].call(e,e,e.vidElem)}).on("stageclick",function(){x.trigger("click_"+e.vid)}).on("ended",function(){e.options.loop&&setTimeout(function(){e.replay()},100)}).on("playing",function(){e.__not_first||(e.__not_first=!0,x.trigger("track_"+e.vid))}),this.applyPlayTrack()},ready:function(e){return"complete"===this.readyState?e.call(this,this,this.vidElem,this.$wrap):this.readyCalls.push(e),this},setSource:function(e){return this.vidElem.vjs_src(e),this},play:function(){var e=this.prop("duration");return e>0&&e<=this.prop("currentTime")?this.options.loop?this.replay():this.pause():this.vidElem.vjs_play(),this},pause:function(){return this.vidElem.vjs_pause(),this},seekTo:function(e){return this.prop("currentTime",e),this},replay:function(){this.seekTo(0);var e=this;e.prop("paused")&&e.play(),setTimeout(function(){e.prop("paused")&&e.play(),x.trigger("track_"+e.vid)},0)},prop:function(e,t){var o=this.vidElem;return 1===arguments.length?o.vjs_getProperty(e):(o.vjs_setProperty(e,t),this)}};var E={constructor:o,addAttrs:function(e){for(var t in e)e.hasOwnProperty(t)&&e[t]&&(this.vidElem[t]=e[t])},createPlayer:function(){this.mode="video",this.$wrap.css("background-color",this.options.bgcolor),this.$wrap.find("#"+this.vid).remove();var e=$("<video />");this.vidElem=e[0],this.addAttrs({controls:!1,id:this.vid,name:this.vid,src:this.options.preload?this.options.src:"",preload:this.options.preload,autoplay:this.options.autoplay,muted:this.options.muted}),e.css({width:"100%",height:"100%"}),this.$wrap.prepend(e),this.vidElem.volume=this.options.volume,this._lastVolume=this.options.volume,this.initEvents()},initEvents:function(){var e=this;this.on("ended",function(){e.options.loop&&setTimeout(function(){e.replay()},100)}).on("playing",function(){e.__not_first||(e.__not_first=!0,x.trigger("track_"+e.vid))}),this.applyPlayTrack();var t=this.vid,o=document.getElementById(t),n=["canplaythrough","durationchange","playing","play","loadstart","pause","ended","volumechange","click"];$.each(n,function(e,n){$(o).on(n,function(){x.trigger(n+"_"+t)})});for(var i=e.readyCalls,r=null;i.length;)r=i.shift(),r.call(e,e,o);e.readyState="complete"},setSource:function(e){return this.prop("src",e),this},play:function(){this.options.preload||this.prop("currentSrc")||(this.vidElem.src=this.options.src);var e=this.prop("duration");return e>0&&e<=this.prop("currentTime")?this.options.loop?this.replay():this.pause():this.vidElem.play(),this},pause:function(){return this.vidElem.pause(),this},seekTo:function(e){return this.vidElem.currentTime=e,this},replay:function(){this.vidElem.currentTime=0,this.vidElem.play();var e=this;setTimeout(function(){e.prop("paused")&&e.play(),x.trigger("track_"+e.vid)},0)},prop:function(e,t){var o=this.vidElem;return 1===arguments.length?"lastVolume"==e?this._lastVolume>0?this._lastVolume:1:o[e]:(o[e]=t,"volume"===e&&(this._lastVolume=o.volume),this)}};o.prototype=$.extend({},t.prototype,E);var T=function(){var e=document.createElement("video"),t="";try{t=e.canPlayType&&e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")}catch(e){}return e=null,!!t}(),C=function(e,n){if(!n||!n.src)throw"option src needed!";var i,r="swf"===n.mode,a=!/mp4$/i.test(n.src+"");return!T||r||a?(i=new t(e,n),i.mode="swf"):(i=new o(e,n),i.mode="video",i.$wrap.on("contextmenu",function(e){e.preventDefault()})),i},S=$.vPlayer=C;return $.fn.vPlayer=function(){return this.each(function(e,t){var o=$(t),n={};n.mode=o.attr("mode"),n.src=o.attr("src");var i=o.attr("loop");void 0!==i&&(n.loop=!0);var r=o.attr("preload");void 0!==r&&(n.preload=!0);var a=o.attr("autoplay");void 0!==a&&(n.autoplay=!0);var l=o.attr("muted");void 0!==l&&(n.muted=!0);var s=o.attr("simulatefullscreen");void 0!==s&&(n.simulateFullScreen=!0);var d=o.attr("volume");void 0!==d&&(n.volume=parseFloat(d));var p=o.attr("poster");p&&(n.poster=p);var c=$.trim(o.attr("href"));c&&(n.clickUrl=c);var u=$.trim(o.attr("onurlopen"));u&&(n.clickUrlTrack=u);var v=$.trim(o.attr("onplay"));v&&(n.playTrack=v);var f=$.trim(o.attr("swf"));return f&&(n.swfUrl=f),$.vPlayer(o,n)}),this},C.onEvent=function(e,t){x.trigger(t+"_"+e)},C.onError=function(e,t){x.trigger("error_"+e,t)},C.onReady=function(e){x.trigger("ready_"+e)},C.debug=function(e){return e?_[e]:_},C.debug.emitter=x,x._trigger=x.trigger,x.trigger=function(e){C.debugMode&&window.console&&console.log(e),x._trigger(e)},C.toggleEventLog=function(){C.debugMode=!C.debugMode},S});
//# sourceMappingURL=bundle.js.map
