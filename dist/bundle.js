!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.vPlayer=t()}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(e,t){t=$.extend({},{swfUrl:b.swf,loading:b.loading,bgcolor:"#000",preload:!1,loop:!1,autoplay:!1,muted:!1,volume:1,simulateFullScreen:!0},t),this.options=t,this.vid=this.getVID(),F[this.vid]=this,this.readyCalls=[y];var o=$(e);o.empty(),_.clone().appendTo(o),this.$wrap=o.find(".video-wrapper"),this.$wrap.prepend('<div id="'+this.vid+'"></div>'),this.clickUrl=$.trim(t.clickUrl||"");var n=t.clickUrlTrack||"",i=t.playTrack||"";this.clickUrlTrack=$.isFunction(n)?n:$.trim(n).replace(S,""),this.playTrack=$.isFunction(i)?i:$.trim(i).replace(S,""),t.poster&&this.$wrap.find(".vplayer-poster img").attr("src",t.poster),this.$wrap.find(".vplayer-loading").attr("src",t.loading),this.createPlayer()}function o(){t.apply(this,arguments)}var n={swf:"//s5.ssl.qhres.com/static/fca83421739b4383.swf",sprite:"//p5.ssl.qhimg.com/t0154249c11cb1852d0.png",loading:"//p5.ssl.qhimg.com/t017699817e7d9bb0fd.gif"},i=function(e){var t=document.createElement("style");t.rel="stylesheet",t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)},r=".body__hidden{overflow:hidden !important}.video-wrapper{position:relative;width:100%;height:100%;background:#000;overflow:hidden !important;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}.video-wrapper__fullscreen{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;z-index:99999999999}.video-wrapper>video{display:block;width:100%;height:100%;outline:0 !important}.video-control{position:absolute;bottom:-40px;left:0;right:0;width:100%;height:30px;z-index:888;padding-top:10px;background:url(__sprite) 0 -190px;_padding-top:7px;_background-position:0 -195px}.video-control>.video-progress{position:absolute;left:0;right:0;z-index:999;top:4px;width:100%;height:12px;overflow:hidden;zoom:1}.video-progress .v-p-total{position:absolute;left:0;right:0;top:5px;height:2px;width:100%;background-color:#555}.video-progress .v-p-total .v-p-cur{float:left;height:2px;width:0;background-color:#2b2b2b}.video-progress .v-p-total .v-p-ctrl{position:absolute;left:0;top:-5px;width:12px;height:12px;background:url(__sprite) 0 -20px no-repeat}.video-time,.video-volume,.video-expand{float:right}.video-control-play{float:left;overflow:hidden;padding:8px 10px 7px 20px}.video-time{display:none;float:left;font-size:12px;color:#fff;font-family:Microsoft Yahei;padding:0;line-height:30px}.video-control-play-btn:hover,.video-volume-btn:hover,.video-expand-btn:hover{opacity:.8;filter:alpha(opacity=80)}.video-control-play-btn{width:14px;height:15px;background:url(__sprite) no-repeat}.video-control-play-btn__paused{background-position:-20px -20px}.video-control-play-btn__playing{background-position:-40px -20px}.video-expand{padding:7px 20px 7px 16px}.video-expand-btn{width:18px;height:16px}.video-expand-btn__normal{background:url(__sprite) -60px -20px no-repeat}.video-volume{padding:7px 2px 7px 0}.video-volume-btn{display:block;width:19px;height:16px;background:url(__sprite) 0 0 no-repeat}.video-volume-btn__muted{background-position:0 0}.video-volume-btn__1{background-position:-20px 0}.video-volume-btn__2{background-position:-40px 0}.video-volume-btn__3{background-position:-60px 0}.video-volume-ctrl{float:right;width:30%;max-width:60px;min-width:40px;height:30px;position:relative}.volume-total{position:absolute;left:0;right:0;top:14px;height:2px;background-color:#fff}.volume-cur{float:left;height:2px;width:0;background-color:#fff}.volume-ctrl{position:absolute;left:0;top:-5px;width:12px;height:12px;background:url(__sprite) 0 -20px no-repeat}.vplayer-poster,.vplayer-poster img{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:100%;z-index:999}.vplayer-loading,.vplayer-play-btn{width:70px;height:70px;position:absolute;left:50%;top:50%;margin-top:-35px;margin-left:-35px;cursor:pointer;z-index:1000}.vplayer-play-btn{background:url(__sprite) 0 -40px no-repeat}.vplayer-play-btn:hover{background-position:-80px -40px}.vplayer-play-pause{background-position:0 -120px !important}.vplayer-play-pause:hover{opacity:.8;filter:alpha(opacity=80)}\n",a={__def:r},l=' <div class="video-wrapper"> <div class="video-control"> <div class="video-progress"> <div class="v-p-total"> <div class="ctrl v-p-ctrl"></div> <div class="v-p-cur"></div> </div> </div> <div style="overflow: hidden"> <div class="video-control-play"> <div class="video-control-play-btn video-control-play-btn__paused"></div> </div> <div class="video-time">00:00/00:00</div> <div class="video-expand"> <div class="video-expand-btn video-expand-btn__normal"></div> </div> <div class="video-volume-ctrl"> <div class="volume-total"> <div class="ctrl volume-ctrl"></div> <div class="volume-cur"></div> </div> </div> <div class="video-volume"> <div class="video-volume-btn video-volume-btn__muted"></div> </div> </div> </div> <div class="vplayer-poster"> <img alt=""> </div> <div class="vplayer-play-btn"></div> <img alt="" class="vplayer-loading" style="display: none"> </div>',s={__def:l};const d=window;var p=d.So&&d.So.page&&d.So.page.timer||[],c=p,u=function(){function e(){if(!X&&document.getElementsByTagName("body")[0]){try{var e,t=w("span");t.style.display="none",e=z.getElementsByTagName("body")[0].appendChild(t),e.parentNode.removeChild(e),e=null,t=null}catch(e){return}X=!0;for(var o=D.length,n=0;n<o;n++)D[n]()}}function t(e){X?e():D[D.length]=e}function o(e){if(typeof j.addEventListener!==I)j.addEventListener("load",e,!1);else if(typeof z.addEventListener!==I)z.addEventListener("load",e,!1);else if(typeof j.attachEvent!==I)x(j,"onload",e);else if("function"==typeof j.onload){var t=j.onload;j.onload=function(){t(),e()}}else j.onload=e}function n(){var e=z.getElementsByTagName("body")[0],t=w(P);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",U);var o=e.appendChild(t);if(o){var n=0;!function r(){if(typeof o.GetVariable!==I)try{var a=o.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),K.pv=[b(a[0]),b(a[1]),b(a[2])])}catch(e){K.pv=[8,0,0]}else if(n<10){n++;var l=setTimeout(r,10);return void c.push(l)}e.removeChild(t),o=null,i()}()}else i()}function i(){var e=q.length;if(e>0)for(var t=0;t<e;t++){var o=q[t].id,n=q[t].callbackFn,i={success:!1,id:o};if(K.pv[0]>0){var d=g(o);if(d)if(!k(q[t].swfVersion)||K.wk&&K.wk<312)if(q[t].expressInstall&&a()){var p={};p.data=q[t].expressInstall,p.width=d.getAttribute("width")||"0",p.height=d.getAttribute("height")||"0",d.getAttribute("class")&&(p.styleclass=d.getAttribute("class")),d.getAttribute("align")&&(p.align=d.getAttribute("align"));for(var c={},u=d.getElementsByTagName("param"),v=u.length,f=0;f<v;f++)"movie"!==u[f].getAttribute("name").toLowerCase()&&(c[u[f].getAttribute("name")]=u[f].getAttribute("value"));l(p,c,o,n)}else s(d),n&&n(i);else E(o,!0),n&&(i.success=!0,i.ref=r(o),i.id=o,n(i))}else if(E(o,!0),n){var h=r(o);h&&typeof h.SetVariable!==I&&(i.success=!0,i.ref=h,i.id=h.id),n(i)}}}function r(e){var t=null,o=g(e);return o&&"OBJECT"===o.nodeName.toUpperCase()&&(t=typeof o.SetVariable!==I?o:o.getElementsByTagName(P)[0]||o),t}function a(){return!G&&k("6.0.65")&&(K.win||K.mac)&&!(K.wk&&K.wk<312)}function l(e,t,o,n){var i=g(o);if(o=y(o),G=!0,$=n||null,F={success:!1,id:o},i){"OBJECT"===i.nodeName.toUpperCase()?(C=d(i),S=null):(C=i,S=o),e.id=M,(typeof e.width===I||!/%$/.test(e.width)&&b(e.width)<310)&&(e.width="310"),(typeof e.height===I||!/%$/.test(e.height)&&b(e.height)<137)&&(e.height="137");var r=K.ie?"ActiveX":"PlugIn",a="MMredirectURL="+encodeURIComponent(j.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+r+"&MMdoctitle="+encodeURIComponent(z.title.slice(0,47)+" - Flash Player Installation");if(typeof t.flashvars!==I?t.flashvars+="&"+a:t.flashvars=a,K.ie&&4!=i.readyState){var l=w("div");o+="SWFObjectNew",l.setAttribute("id",o),i.parentNode.insertBefore(l,i),i.style.display="none",h(i)}v(e,t,o)}}function s(e){if(K.ie&&4!=e.readyState){e.style.display="none";var t=w("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(d(e),t),h(e)}else e.parentNode.replaceChild(d(e),e)}function d(e){var t=w("div");if(K.win&&K.ie)t.innerHTML=e.innerHTML;else{var o=e.getElementsByTagName(P)[0];if(o){var n=o.childNodes;if(n)for(var i=n.length,r=0;r<i;r++)1==n[r].nodeType&&"PARAM"===n[r].nodeName||8==n[r].nodeType||t.appendChild(n[r].cloneNode(!0))}}return t}function p(e,t){var o=w("div");return o.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",o.firstChild}function v(e,t,o){var n,i=g(o);if(o=y(o),K.wk&&K.wk<312)return n;if(i){var r,a,l,s=w(K.ie?"div":P);typeof e.id===I&&(e.id=o);for(l in t)t.hasOwnProperty(l)&&"movie"!==l.toLowerCase()&&f(s,l,t[l]);K.ie&&(s=p(e.data,s.innerHTML));for(r in e)e.hasOwnProperty(r)&&(a=r.toLowerCase(),"styleclass"===a?s.setAttribute("class",e[r]):"classid"!==a&&"data"!==a&&s.setAttribute(r,e[r]));K.ie?W[W.length]=e.id:(s.setAttribute("type",U),s.setAttribute("data",e.data)),i.parentNode.replaceChild(s,i),n=s}return n}function f(e,t,o){var n=w("param");n.setAttribute("name",t),n.setAttribute("value",o),e.appendChild(n)}function h(e){var t=g(e);t&&"OBJECT"===t.nodeName.toUpperCase()&&(K.ie?(t.style.display="none",function e(){if(4==t.readyState){for(var o in t)"function"==typeof t[o]&&(t[o]=null);t.parentNode.removeChild(t)}else{var n=setTimeout(e,10);c.push(n)}}()):t.parentNode.removeChild(t))}function m(e){return e&&e.nodeType&&1===e.nodeType}function y(e){return m(e)?e.id:e}function g(e){if(m(e))return e;var t=null;try{t=z.getElementById(e)}catch(e){}return t}function w(e){return z.createElement(e)}function b(e){return parseInt(e,10)}function x(e,t,o){e.attachEvent(t,o),H[H.length]=[e,t,o]}function k(e){e+="";var t=K.pv,o=e.split(".");return o[0]=b(o[0]),o[1]=b(o[1])||0,o[2]=b(o[2])||0,t[0]>o[0]||t[0]==o[0]&&t[1]>o[1]||t[0]==o[0]&&t[1]==o[1]&&t[2]>=o[2]}function _(e,t,o,n){var i=z.getElementsByTagName("head")[0];if(i){var r="string"==typeof o?o:"screen";if(n&&(N=null,A=null),!N||A!=r){var a=w("style");a.setAttribute("type","text/css"),a.setAttribute("media",r),N=i.appendChild(a),K.ie&&typeof z.styleSheets!==I&&z.styleSheets.length>0&&(N=z.styleSheets[z.styleSheets.length-1]),A=r}N&&(typeof N.addRule!==I?N.addRule(e,t):typeof z.createTextNode!==I&&N.appendChild(z.createTextNode(e+" {"+t+"}")))}}function E(e,t){if(J){var o=t?"visible":"hidden",n=g(e);X&&n?n.style.visibility=o:"string"==typeof e&&_("#"+e,"visibility:"+o)}}function T(e){var t=/[\\\"<>\.;]/,o=null!==t.exec(e);return o&&typeof encodeURIComponent!==I?encodeURIComponent(e):e}var C,S,$,F,N,A,I="undefined",P="object",B="Shockwave Flash",L="ShockwaveFlash.ShockwaveFlash",U="application/x-shockwave-flash",M="SWFObjectExprInst",O="onreadystatechange",j=window,z=document,R=navigator,V=!1,D=[],q=[],W=[],H=[],X=!1,G=!1,J=!0,Y=!1,K=function(){var e=typeof z.getElementById!==I&&typeof z.getElementsByTagName!==I&&typeof z.createElement!==I,t=R.userAgent.toLowerCase(),o=R.platform.toLowerCase(),n=o?/win/.test(o):/win/.test(t),i=o?/mac/.test(o):/mac/.test(t),r=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),a="Microsoft Internet Explorer"===R.appName,l=[0,0,0],s=null;if(typeof R.plugins!==I&&typeof R.plugins[B]===P)s=R.plugins[B].description,s&&typeof R.mimeTypes!==I&&R.mimeTypes[U]&&R.mimeTypes[U].enabledPlugin&&(V=!0,a=!1,s=s.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),l[0]=b(s.replace(/^(.*)\..*$/,"$1")),l[1]=b(s.replace(/^.*\.(.*)\s.*$/,"$1")),l[2]=/[a-zA-Z]/.test(s)?b(s.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof j.ActiveXObject!==I)try{var d=new ActiveXObject(L);d&&(s=d.GetVariable("$version"),s&&(a=!0,s=s.split(" ")[1].split(","),l=[b(s[0]),b(s[1]),b(s[2])]))}catch(e){}return{w3:e,pv:l,wk:r,ie:a,win:n,mac:i}}();(function(){K.w3&&((typeof z.readyState!==I&&("complete"===z.readyState||"interactive"===z.readyState)||typeof z.readyState===I&&(z.getElementsByTagName("body")[0]||z.body))&&e(),X||(typeof z.addEventListener!==I&&z.addEventListener("DOMContentLoaded",e,!1),K.ie&&(z.attachEvent(O,function t(){"complete"===z.readyState&&(z.detachEvent(O,t),e())}),j==top&&!function t(){if(!X){try{z.documentElement.doScroll("left")}catch(e){var o=setTimeout(t,0);return void c.push(o)}e()}}()),K.wk&&!function t(){if(!X){if(!/loaded|complete/.test(z.readyState)){var o=setTimeout(t,0);return void c.push(o)}e()}}()))})();D[0]=function(){V?n():i()};(function(){K.ie&&window.attachEvent("onunload",function(){for(var e=H.length,t=0;t<e;t++)H[t][0].detachEvent(H[t][1],H[t][2]);for(var o=W.length,n=0;n<o;n++)h(W[n]);for(var i in K)K[i]=null;K=null;for(var r in u)u[r]=null;u=null})})();return{registerObject:function(e,t,o,n){if(K.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=o,i.callbackFn=n,q[q.length]=i,E(e,!1)}else n&&n({success:!1,id:e})},getObjectById:function(e){if(K.w3)return r(e)},embedSWF:function(e,o,n,i,r,s,d,p,c,u){var f=y(o),h={success:!1,id:f};K.w3&&!(K.wk&&K.wk<312)&&e&&o&&n&&i&&r?(E(f,!1),t(function(){n+="",i+="";var t={};if(c&&typeof c===P)for(var m in c)t[m]=c[m];t.data=e,t.width=n,t.height=i;var y={};if(p&&typeof p===P)for(var g in p)y[g]=p[g];if(d&&typeof d===P)for(var w in d)if(d.hasOwnProperty(w)){var b=Y?encodeURIComponent(w):w,x=Y?encodeURIComponent(d[w]):d[w];typeof y.flashvars!==I?y.flashvars+="&"+b+"="+x:y.flashvars=b+"="+x}if(k(r)){var _=v(t,y,o);t.id==f&&E(f,!0),h.success=!0,h.ref=_,h.id=_.id}else{if(s&&a())return t.data=s,void l(t,y,o,u);E(f,!0)}u&&u(h)})):u&&u(h)},switchOffAutoHideShow:function(){J=!1},enableUriEncoding:function(e){Y=typeof e===I||e},ua:K,getFlashPlayerVersion:function(){return{major:K.pv[0],minor:K.pv[1],release:K.pv[2]}},hasFlashPlayerVersion:k,createSWF:function(e,t,o){return K.w3?v(e,t,o):void 0},showExpressInstall:function(e,t,o,n){K.w3&&a()&&l(e,t,o,n)},removeSWF:function(e){K.w3&&h(e)},createCSS:function(e,t,o,n){K.w3&&_(e,t,o,n)},addDomLoadEvent:t,addLoadEvent:o,getQueryParamValue:function(e){var t=z.location.search||z.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),!e)return T(t);for(var o=t.split("&"),n=0;n<o.length;n++)if(o[n].substring(0,o[n].indexOf("="))==e)return T(o[n].substring(o[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if(G){var e=g(M);e&&C&&(e.parentNode.replaceChild(C,e),S&&(E(S,!0),K.ie&&(C.style.display="block")),$&&$(F)),G=!1}},version:"2.3"}}(),v=u,f=e(function(e){!function(){var t=e.exports,o="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var e,t,o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=o.length,r={};n<i;n++)if(e=o[n],e&&e[1]in document){for(n=0,t=e.length;n<t;n++)r[o[0][n]]=e[n];return r}return!1}(),i={request:function(e){var t=n.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](o&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[n.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:n};return n?(Object.defineProperties&&Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(document[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[n.fullscreenEnabled])}}}),void(t?e.exports=i:window.screenfull=i)):void(t?e.exports=!1:window.screenfull=!1)}()}),h=f,m=p,y=function(e,t){function o(t){var o=e.prop("volume"),n=o+t;n=n<0?0:n>1?1:n,e.prop("muted")&&n>0&&e.prop("muted",!1),e.prop("volume",n)}function n(t){if("swf"!==e.mode){var o=e.prop("duration");if(o&&!(e.prop("ended")&&t>0)){var n=e.prop("currentTime")/o,i=n+t;i=i<0?0:i>1?1:i,e.seekTo(o*i),1===i?e.options.loop?e.replay():e.pause():e.play()}}}function i(e){switch(+e){case 37:return n(-.1);case 39:return n(.1);case 38:return o(.1);case 40:return o(-.1)}}function r(){return e.prop("ended")?e.replay():e.prop("paused")?e.play():void e.pause()}function a(){return d.hasClass(ee)}function l(e,t,o,n){var i,r,a,l=+new Date,s=0,d=0,p=null,c=function(){d=l,e.apply(r,a)};return function(){l=+new Date,r=this,a=arguments,i=l-(n?s:d)-t,clearTimeout(p),n?o?p=setTimeout(c,t):i>=0&&c():i>=0?c():o&&(p=setTimeout(c,-i)),m.push(p),s=l}}window["swf_"+t.id]=e;var s=$(document),d=e.$wrap,p=function(e){return d.find(e)};$.fn.ctrlSlider=function(e){var t=e.duration,o=e.current,n=e.controller,i=this;return this.on("mousedown",function(r){r.preventDefault(),e.onstart&&e.onstart();var a=i.offset().left,d=i.width(),p=function(e){var i=e.clientX-a;i=i<0?0:i>d?d:i;var r=i/t.width();return o.css("width",i),n.css("left",(d-n.width())*r),r},c="mousemove."+ +new Date,u=function(t){e.onchange&&e.onchange(p(t))};s.on(c,l(u,100,!0)),s.one("mouseup",function(t){s.off(c),e.onend&&e.onend(p(t))}),u(r)}),this};var c=p(".video-control"),u=d.find(".video-time"),v=function(){return e.prop("ended")||e.prop("paused")&&0===e.prop("currentTime")},f=function(){v()||c.animate({bottom:0,opacity:1},300)},y=function(){!v()&&e.prop("paused")||a()||c.animate({bottom:-40,opacity:0},200)};d.on("mouseenter",f).on("mouseleave",y);var g=!0,w=function(){g=c.width()<=250,g?u.hide():u.show()};w();var b=function(e){return""+(e<0?e:e<10?"0"+e:e)},x=function(e){return e=Math.round(+e),isNaN(e)&&(e=0),b(Math.floor(e/60))+":"+b(Math.floor(e%60))},k=p(".video-progress"),_=p(".v-p-total"),E=p(".v-p-cur"),T=p(".v-p-ctrl"),C=_.width(),S=function(){C=_.width()},F=!1,N=0,A=function(){if(!F){N=N||T.width();var t=e.prop("currentTime");isNaN(t)&&(t=0);var o=e.prop("duration");isNaN(o)||o<=0?u.text("--:--"):u.text(x(t)+"/"+x(o));var n=0;0!==o&&(n=t/o),n=Math.round(100*n)/100,E.css("width",C*n),T.css("left",(C-N)*n)}};k.ctrlSlider({duration:_,current:E,controller:T,onstart:function(){F=!0,e.pause()},onchange:function(t){var o=e.prop("duration");t=t<.95?t:.95,e.seekTo(t*o),u.text(x(o*t)+"/"+x(o))},onend:function(t){F=!1,t=t<.95?t:.95,e.seekTo(t*e.prop("duration")),e.play()}});var I=p(".video-control-play"),P=p(".video-control-play-btn"),B="video-control-play-btn__playing",L=p(".vplayer-poster, .vplayer-play-btn"),U=p(".vplayer-play-btn"),M=p(".vplayer-poster"),O=p(".vplayer-loading"),j="vplayer-play-pause",z=null;I.on("click",function(){r()}),U.on("click",function(){r(),f()}),e.on("loadstart",function(){"video"===e.mode&&e.options.preload&&!e.options.autoplay||(L.hide(),O.show())}),e.on("durationchange",function(){e.prop("duration")<=0?(u.hide(),k.hide()):(g||u.show(),k.show())}),e.on("canplaythrough",function(){clearInterval(z),A(),P.addClass(B),z=setInterval(function(){A()},30),m.push(z),L.hide();var e=setTimeout(function(){O.hide()},0);m.push(e)}),e.on("playing",function(){A(),P.addClass(B),clearInterval(z),z=setInterval(function(){A()},30),m.push(z),L.hide()}),e.on("pause",function(){clearInterval(z),A(),f(),P.removeClass(B),U.addClass(j).show()}),e.on("ended",function(){clearInterval(z),A(),y(),e.options.loop||(P.removeClass(B),L.show(),U.removeClass(j))});var R=e.clickUrl,V=e.clickUrlTrack;R&&M.css("cursor","pointer");var D=function(){R&&!a()&&(e.track(V),window.open(R))};M.on("click",D),e.on("click",function(){e.pause(),D()});var q=p(".volume-total"),W=p(".volume-cur"),H=p(".volume-ctrl"),X=p(".video-volume-btn");p(".video-volume-ctrl").ctrlSlider({duration:q,current:W,controller:H,onstart:function(){},onchange:function(t){e.prop("muted",!1),e.prop("volume",t)},onend:function(t){e.prop("muted",!1),e.prop("volume",t)}});var G=function(t){var o=X[0],n=q.width();H.css("left",t*(n-H.width())),W.css("width",t*n);var i=e.prop("muted"),r="video-volume-btn__"+(0===t||i?"muted":t<1/3?1:t<2/3?2:3);o.className=o.className.replace(/video-volume-btn__(\d|muted)/g,"")+r},J=function(){G(e.prop("muted")?0:e.prop("volume"))};J(),e.on("volumechange",function(){var t=e.prop("volume");t<.01&&t>0&&e.prop("volume",0),e.prop("muted")&&(t=0),G(t)}),X.on("click",function(){e.prop("muted",!e.prop("muted"))});var Y=p(".video-expand"),K=p(".video-expand-btn"),Z="video-wrapper__fullscreen",Q="video-expand-btn__expanded",ee="isFullScreen",te=$("html, body"),oe="body__hidden",ne=function(){te.toggleClass(oe),h?h.toggle(d[0]):d.toggleClass(Z),K.toggleClass(Q),d.toggleClass(ee),w(),S(),J(),A()};h||e.options.simulateFullScreen?Y.on("click",ne):K.hide(),h&&$(window).on(h.raw.fullscreenchange,function(){h.isFullscreen?te.addClass(oe):(te.removeClass(oe),K.removeClass(Q),d.removeClass(Z),d.removeClass(ee)),w(),S(),J(),A()}),s.on("keydown.vjs",function(e){if(a()){var t=+e.keyCode;116===t?location.reload():27===t?ne():32===t?r():i(t)}}),"swf"===e.mode&&e.on("esc",function(){a()&&ne()}),d.on("keydown.vjs",function(e){if(!a()){var t=e.keyCode;32===t?r():116===t?location.reload():i(t)}}).on("selectstart",function(e){e.preventDefault()}),$(window).on("resize",l(function(){w(),S(),J(),(e.prop("ended")||e.prop("paused"))&&A()},100))},g=a&&a.__def||a,w=s&&s.__def||s,b=n,x=i,k=g;x(k.replace(/__sprite/g,b.sprite));var _=$(w),E=v,T=p,C=$({}),S=/^on(blur|focus|focusin|focusout|load|resize|scroll|unload|click|dblclick|mousedown|mouseup|mousemove|mouseover|mouseout|mouseenter|mouseleave|change|select|submit|keydown|keypress|keyup|error|contextmenu)\=/i,F={};t.prototype={constructor:t,on:function(e,t){for(var o=e.split(/\s+/),n=0,i=o.length;n<i;n++)C.on.call(C,o[n]+"_"+this.vid,t);return this},off:function(e,t){if(e)for(var o=e.split(/\s+/),n=0,i=o.length;n<i;n++)C.off.call(C,o[n]+"_"+this.vid,t);else C.off();return this},getVID:function(){return"vjs_"+ +new Date},createPlayer:function(){this.mode="swf",this.$wrap.css("background-color",this.options.bgcolor);var e={src:this.options.src,autoplay:this.options.autoplay,preload:this.options.preload,loop:this.options.loop,volume:this.options.volume,muted:this.options.muted,allowFullScreen:!0,wmode:"transparent"},t={allowScriptAccess:"always",bgcolor:this.options.bgcolor,allowFullScreen:!0,wmode:"transparent"},o={id:this.vid,name:this.vid};E.embedSWF(this.options.swfUrl,this.vid,"100%","100%","10.3","",e,t,o),this.initEvents()},track:function(e){try{if($.isFunction(e))e();else{var t=new Function(e);t()}}catch(e){window.console&&window.console.log(e)}},applyPlayTrack:function(){var e=this.playTrack,t=this;e&&this.on("track",function(){t.track(e)})},initEvents:function(){var e=this;this.on("ready",function(){e.readyState="complete",e.vidElem=document.getElementById(e.vid);for(var t=e.readyCalls,o=0,n=t.length;o<n;o++)t[o].call(e,e,e.vidElem)}).on("stageclick",function(){C.trigger("click_"+e.vid)}).on("ended",function(){if(e.options.loop){var t=setTimeout(function(){e.replay()},100);T.push(t)}}).on("playing",function(){e.__not_first||(e.__not_first=!0,C.trigger("track_"+e.vid))}),this.applyPlayTrack()},ready:function(e){return"complete"===this.readyState?e.call(this,this,this.vidElem,this.$wrap):this.readyCalls.push(e),this},setSource:function(e){return this.vidElem.vjs_src(e),this},play:function(){var e=this.prop("duration");return e>0&&e<=this.prop("currentTime")?this.options.loop?this.replay():this.pause():this.vidElem.vjs_play(),this},pause:function(){return this.vidElem.vjs_pause(),this},seekTo:function(e){return this.prop("currentTime",e),this},replay:function(){this.seekTo(0);var e=this;e.prop("paused")&&e.play();var t=setTimeout(function(){e.prop("paused")&&e.play(),C.trigger("track_"+e.vid)},0);T.push(t)},prop:function(e,t){var o=this.vidElem;return 1===arguments.length?o.vjs_getProperty(e):(o.vjs_setProperty(e,t),this)}};var N={constructor:o,addAttrs:function(e){for(var t in e)e.hasOwnProperty(t)&&e[t]&&(this.vidElem[t]=e[t])},createPlayer:function(){this.mode="video",this.$wrap.css("background-color",this.options.bgcolor),this.$wrap.find("#"+this.vid).remove();var e=$("<video />");this.vidElem=e[0],this.addAttrs({controls:!1,id:this.vid,name:this.vid,src:this.options.preload?this.options.src:"",preload:this.options.preload,autoplay:this.options.autoplay,muted:this.options.muted}),e.css({width:"100%",height:"100%"}),this.$wrap.prepend(e),this.vidElem.volume=this.options.volume,this._lastVolume=this.options.volume,this.initEvents()},initEvents:function(){var e=this;this.on("ended",function(){if(e.options.loop){var t=setTimeout(function(){e.replay()},100);T.push(t)}}).on("playing",function(){e.__not_first||(e.__not_first=!0,C.trigger("track_"+e.vid))}),this.applyPlayTrack();var t=this.vid,o=document.getElementById(t),n=["canplaythrough","durationchange","playing","play","loadstart","pause","ended","volumechange","click"];$.each(n,function(e,n){$(o).on(n,function(){C.trigger(n+"_"+t)})});for(var i=e.readyCalls,r=null;i.length;)r=i.shift(),r.call(e,e,o);e.readyState="complete"},setSource:function(e){return this.prop("src",e),this},play:function(){this.options.preload||this.prop("currentSrc")||(this.vidElem.src=this.options.src);var e=this.prop("duration");return e>0&&e<=this.prop("currentTime")?this.options.loop?this.replay():this.pause():this.vidElem.play(),this},pause:function(){return this.vidElem.pause(),this},seekTo:function(e){return this.vidElem.currentTime=e,this},replay:function(){this.vidElem.currentTime=0,this.vidElem.play();var e=this,t=setTimeout(function(){e.prop("paused")&&e.play(),C.trigger("track_"+e.vid)},0);T.push(t)},prop:function(e,t){var o=this.vidElem;return 1===arguments.length?"lastVolume"==e?this._lastVolume>0?this._lastVolume:1:o[e]:(o[e]=t,"volume"===e&&(this._lastVolume=o.volume),this)}};o.prototype=$.extend({},t.prototype,N);var A=function(){var e=document.createElement("video"),t="";try{t=e.canPlayType&&e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")}catch(e){}return e=null,!!t}(),I=function(e,n){if(!n||!n.src)throw"option src needed!";var i,r="swf"===n.mode,a=!/mp4$/i.test(n.src+"");return!A||r||a?(i=new t(e,n),i.mode="swf"):(i=new o(e,n),i.mode="video",i.$wrap.on("contextmenu",function(e){e.preventDefault()})),i},P=$.vPlayer=I;return $.fn.vPlayer=function(){return this.each(function(e,t){var o=$(t),n={};n.mode=o.attr("mode"),n.src=o.attr("src");var i=o.attr("loop");void 0!==i&&(n.loop=!0);var r=o.attr("preload");void 0!==r&&(n.preload=!0);var a=o.attr("autoplay");void 0!==a&&(n.autoplay=!0);var l=o.attr("muted");void 0!==l&&(n.muted=!0);var s=o.attr("simulatefullscreen");void 0!==s&&(n.simulateFullScreen=!0);var d=o.attr("volume");void 0!==d&&(n.volume=parseFloat(d));var p=o.attr("poster");p&&(n.poster=p);var c=$.trim(o.attr("href"));c&&(n.clickUrl=c);var u=$.trim(o.attr("onurlopen"));u&&(n.clickUrlTrack=u);var v=$.trim(o.attr("onplay"));v&&(n.playTrack=v);var f=$.trim(o.attr("swf"));return f&&(n.swfUrl=f),$.vPlayer(o,n)}),this},I.onEvent=function(e,t){C.trigger(t+"_"+e)},I.onError=function(e,t){C.trigger("error_"+e,t)},I.onReady=function(e){C.trigger("ready_"+e)},I.debug=function(e){return e?F[e]:F},I.debug.emitter=C,C._trigger=C.trigger,C.trigger=function(e){I.debugMode&&window.console&&console.log(e),C._trigger(e)},I.toggleEventLog=function(){I.debugMode=!I.debugMode},P});
//# sourceMappingURL=bundle.js.map
